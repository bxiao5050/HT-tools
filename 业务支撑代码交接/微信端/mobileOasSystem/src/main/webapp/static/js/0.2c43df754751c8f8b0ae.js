webpackJsonp([0,1],{374:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(29),n=i(o),r=a(16),s=a(70),m=i(s),u=a(291),l=i(u),d=a(6),h=i(d),v=a(28),c=i(v),A=a(3);e.default={components:{nvDatePicker:m.default,fiveMinComparison:l.default},data:function(){return{type:1,date1:window.moment().format("YYYY-MM-DD"),date2:window.moment(this.date1).add(-1,"day").format("YYYY-MM-DD"),date3:window.moment(this.date1).add(-2,"day").format("YYYY-MM-DD"),isShowModel:!1}},mounted:function(){var t=this;this.query(),window.fiveMinInterval=setInterval(function(){t.query()},3e5)},beforeDestroy:function(){clearInterval(window.fiveMinInterval)},computed:(0,n.default)({},(0,r.mapGetters)(["hourlyData"]),{comporisonDate:function(){var t={date1:this.date1,date2:this.date2,date3:this.date3};return t},maxValue:function(){var t=(new Date(moment().add(-10,"minutes").format("YYYY-MM-DD HH:mm:ss")),{firstData:{count_time:"",value:0},secondData:{count_time:"",value:0},thirdData:{count_time:"",value:0}}),e="激活";2==this.type?e="注册":3==this.type&&(e="创角");for(var a=0;a<this.hourlyData.length;a++){var i=window.moment(this.hourlyData[a].count_time).format("YYYY-MM-DD");i==this.date1&&Number(this.hourlyData[a][e])>=t.firstData.value&&(t.firstData={count_time:window.moment(this.hourlyData[a].count_time).format("HH:mm"),value:Number(this.hourlyData[a][e])}),i==this.date2&&Number(this.hourlyData[a][e])>=t.secondData.value&&(t.secondData={count_time:window.moment(this.hourlyData[a].count_time).format("HH:mm"),value:Number(this.hourlyData[a][e])}),i==this.date3&&Number(this.hourlyData[a][e])>=t.thirdData.value&&(t.thirdData={count_time:window.moment(this.hourlyData[a].count_time).format("HH:mm"),value:Number(this.hourlyData[a][e])})}return t}}),filters:{toThousands:function(t){return t.toString().replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g,"$&,")}},methods:{dateChange:function(t){return t==this.date2||t==this.date3||this.date2.time==this.date3?void(0,A.Toast)("不能选择相同日期，请重新选择!"):void(this.date1=t)},comporisonDateChannge:function(t){this.date2=t.date2,this.date3=t.date3},reset:function(){this.date1=window.moment().format("YYYY-MM-DD"),this.date2=window.moment(this.date1).add(-1,"day").format("YYYY-MM-DD"),this.date3=window.moment(this.date1).add(-2,"day").format("YYYY-MM-DD")},openComporeModel:function(t){this.isShowModel=!this.isShowModel},toggleType:function(t){this.type=t,this.drawChart()},query:function(){var t=this,e={date1:this.date3,date2:this.date1};h.default.getMobileReportHourlyData(e,function(e){"successed"==e.state?(t.$store.dispatch("setHourlyData",e.result[0]),t.drawChart()):(0,A.Toast)(e.result.errorMsg)})},drawChart:function(){var t=[{name:this.date3,data:[]},{name:this.date2,data:[]},{name:this.date1,data:[]}],e="激活";2==this.type?e="注册":3==this.type&&(e="创角");for(var a=[],i=0;i<this.hourlyData.length;i++){var o=window.moment(this.hourlyData[i].count_time).format("YYYY-MM-DD");o==t[0].name&&a.push(window.moment(this.hourlyData[i].count_time).format("HH:mm"));for(var n=0;n<t.length;n++)t[n].name==o&&t[n].data.push(Number(this.hourlyData[i][e]))}c.default.drawLineChart("fiveMinChart",a,t)}},watch:{date1:function(t,e){t&&t!=e&&this.query()},date2:function(t,e){t&&t!=e&&this.query()},date3:function(t,e){t&&t!=e&&this.query()}}}},602:function(t,e,a){e=t.exports=a(603)(),e.push([t.id,".max-value-group{width:100%;height:4.5rem}.max-value-group .now-max-value-item{width:100%;height:50%;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:vertical;text-align:center}.max-value-group .now-max-value-item .max-value{font-size:.53rem;font-weight:400}.max-value-group .now-max-value-item .max-value-time{margin-top:.3rem}.max-value-group .other-max-value-item{width:100%;height:50%;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:justify;text-align:center}.max-value-group .other-max-value-item .max-value-item{-webkit-box-flex:1}.max-value-group .other-max-value-item .max-value-item .max-value{font-size:.53rem;font-weight:400}.max-value-group .other-max-value-item .max-value-item .max-value-time{margin-top:.3rem}.chart-group{width:100%;height:8rem}.chart-group .float-compare-box{width:.8rem;height:.8rem;padding:.1rem;line-height:.5rem;position:fixed;top:50%;right:0;font-weight:700;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1;font-size:.6rem;text-align:center;transform:translateY(-50%);background-color:#8f8f8f;color:#fff;border-radius:20px}.chart-group .five-min-chart{width:100%;height:8rem}","",{version:3,sources:["/./src/view/module/hourlyReport.vue"],names:[],mappings:"AACA,iBAAiB,WAAW,aAAa,CACxC,AACD,qCAAqC,WAAW,WAAW,oBAAoB,yBAAyB,wBAAwB,4BAA4B,iBAAiB,CAC5K,AACD,gDAAgD,iBAAkB,eAAe,CAChF,AACD,qDAAqD,gBAAiB,CACrE,AACD,uCAAuC,WAAW,WAAW,oBAAoB,yBAAyB,yBAAyB,iBAAiB,CACnJ,AACD,uDAAuD,kBAAkB,CACxE,AACD,kEAAkE,iBAAkB,eAAe,CAClG,AACD,uEAAuE,gBAAiB,CACvF,AACD,aAAa,WAAW,WAAW,CAClC,AACD,gCAAgC,YAAa,aAAc,cAAe,kBAAmB,eAAe,QAAQ,QAAQ,gBAAiB,kCAAmB,gBAAiB,kBAAkB,2BAA2B,yBAAyB,WAAW,kBAAkB,CACnR,AACD,6BAA6B,WAAW,WAAW,CAClD",file:"hourlyReport.vue",sourcesContent:["\n.max-value-group{width:100%;height:4.5rem\n}\n.max-value-group .now-max-value-item{width:100%;height:50%;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:center;-webkit-box-orient:vertical;text-align:center\n}\n.max-value-group .now-max-value-item .max-value{font-size:0.53rem;font-weight:400\n}\n.max-value-group .now-max-value-item .max-value-time{margin-top:0.3rem\n}\n.max-value-group .other-max-value-item{width:100%;height:50%;display:-webkit-box;-webkit-box-align:center;-webkit-box-pack:justify;text-align:center\n}\n.max-value-group .other-max-value-item .max-value-item{-webkit-box-flex:1\n}\n.max-value-group .other-max-value-item .max-value-item .max-value{font-size:0.53rem;font-weight:400\n}\n.max-value-group .other-max-value-item .max-value-item .max-value-time{margin-top:0.3rem\n}\n.chart-group{width:100%;height:8rem\n}\n.chart-group .float-compare-box{width:0.8rem;height:0.8rem;padding:0.1rem;line-height:0.5rem;position:fixed;top:50%;right:0;font-weight:bold;font-family:'微软雅黑';font-size:0.6rem;text-align:center;transform:translateY(-50%);background-color:#8F8F8F;color:#FFF;border-radius:20px\n}\n.chart-group .five-min-chart{width:100%;height:8rem\n}\n"],sourceRoot:"webpack://"}])},630:function(t,e,a){var i=a(602);"string"==typeof i&&(i=[[t.id,i,""]]);a(765)(i,{});i.locals&&(t.exports=i.locals)},709:function(t,e,a){var i,o;a(630),i=a(374);var n=a(737);o=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(o=i=i.default),"function"==typeof o&&(o=o.options),o.render=n.render,o.staticRenderFns=n.staticRenderFns,t.exports=i},737:function(t,e){t.exports={render:function(){var t=this,e=(t.$createElement,t._c);return e("div",[e("div",{staticClass:"fastGroup"},[e("div",{staticClass:"fastSelecter"},[e("v-touch",{staticClass:"fast-item",class:{now:1==t.type},attrs:{tag:"div"},on:{tap:function(e){t.toggleType(1)}}},[t._v("激活")]),t._v(" "),e("v-touch",{staticClass:"fast-item",class:{now:2==t.type},attrs:{tag:"div"},on:{tap:function(e){t.toggleType(2)}}},[t._v("注册")]),t._v(" "),e("v-touch",{staticClass:"fast-item",class:{now:3==t.type},attrs:{tag:"div"},on:{tap:function(e){t.toggleType(3)}}},[t._v("创角")])])]),t._v(" "),e("nv-date-picker",{attrs:{dateChange:t.dateChange,date:t.date1}}),t._v(" "),e("div",{staticClass:"max-value-group"},[e("div",{staticClass:"now-max-value-item px1-b"},[e("div",{staticClass:"max-value",attrs:{id:"maxFirstData"}},[t._v(t._s(t._f("toThousands")(t.maxValue.firstData.value)))]),t._v(" "),e("div",{staticClass:"max-value-time"},[t._v("峰值 "+t._s(t.date1)+" "+t._s(t.maxValue.firstData.count_time))])]),t._v(" "),e("div",{staticClass:"other-max-value-item"},[e("div",{staticClass:"max-value-item px1-r"},[e("div",{staticClass:"max-value",attrs:{id:"maxSecondData"}},[t._v(t._s(t._f("toThousands")(t.maxValue.secondData.value)))]),t._v(" "),e("div",{staticClass:"max-value-time"},[t._v("峰值 "+t._s(t.date2)+" "+t._s(t.maxValue.secondData.count_time))])]),t._v(" "),e("div",{staticClass:"max-value-item"},[e("div",{staticClass:"max-value",attrs:{id:"maxThirdData"}},[t._v(t._s(t._f("toThousands")(t.maxValue.thirdData.value)))]),t._v(" "),e("div",{staticClass:"max-value-time"},[t._v("峰值 "+t._s(t.date3)+" "+t._s(t.maxValue.thirdData.count_time))])])])]),t._v(" "),e("fiveMinComparison",{attrs:{isShow:t.isShowModel,reset:t.reset,comporisonDate:t.comporisonDate,comporisonDateChannge:t.comporisonDateChannge}}),t._v(" "),e("div",{staticClass:"chart-group"},[e("div",{staticClass:"five-min-chart",attrs:{id:"fiveMinChart"}}),t._v(" "),e("div",{staticClass:"float-compare-box",on:{click:t.openComporeModel}},[t._v("\n      +\n    ")])])])},staticRenderFns:[]}}});
//# sourceMappingURL=0.2c43df754751c8f8b0ae.js.map