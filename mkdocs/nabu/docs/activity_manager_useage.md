## 活动管理后台使用手册


####  :tw-1f4cc: 后台地址

---

 :tw-1f528: [测试环境：http://172.16.1.171:9100](http://172.16.1.171:9100) 

 :tw-1f4f2: [正式环境：http://172.16.1.171:9200](http://172.16.1.171:9200) 


#### 关键词说明
---
`活动组`： 由多个活动组成，活动组是为了方便管理控制多个活动，如统一活动时间，统一控制参与门槛等。
> 一个活动页里面的活动集合就是一个活动组，例如老玩家召回活动页，有抽奖活动、登录领礼包活动等。

`活动`： 常见如登录礼包活动、充值礼包活动、竞猜活动、积分活动、积分兑换活动、消费礼包活动、转盘抽奖活动、预约活动等等。
> 大部分活动都是独立的个体，如登录礼包、充值礼包活动等。但消耗类的活动，彼此之间有依赖关系，比如积分兑换活动依赖积分活动产生的积分。

`礼包`： 指参与活动获取的某一礼品或者多个礼品组成的礼包，一般通过激活码或者游戏内部邮件的方式发放。

`时间`：活动所配置的时间均为`游戏所在的本地时间`。

#### 活动配置流程图
---
![活动配置流程图](https://gitee.com/uploads/images/2017/1214/120609_20d3945a_1178778.png "未命名文件.png")

#### 操作权限说明
---

 :tw-203c: `已经上线且对外的活动`尽量`避免修改条件`，以免造成各种问题；

 :tw-26a0: `非当前帐号创建`的活动/活动组只能进行`查看`和`复制`；

 :tw-26a0: `当前帐号创建`的活动/活动组可以进行`查看`、`复制`、`删除`、`编辑`；

 :tw-26a0: 只有在`测试环境`下才有`复制活动组`、`发布到正式`的功能；

#### 活动配置说明
---

> 活动配置不同，需要填写的条件不同，请大家仔细填写

配置字段：
- `活动时间`：允许参与活动的实际
- `活动名称`：活动名称
- `活动状态`：是否暂停、停止活动
- `抽奖活动`： 活动标识，是否为设计到概率的活动，如转盘抽奖
- `直接领取`：表示达成条件即可领取
- `消耗品`： 表示达成条件即可获得消耗品，`在同一个活动组下的其他活动中，可以通过消耗品兑换礼品`。
- `邀请/召回`：表示此活动未邀请召回活动，需要分别配置`邀请人`和`被邀请人`的条件，只有满足条件才能成为邀请人和被邀请人，通过邀请码被邀请人可以绑定到邀请人上。

#### 条件配置说明
---

> 玩家参与活动的条件，只有满足活动条件才能参与活动。

- `受邀人条件`：只用于邀请召回活动，其他活动配置无效
- `统计人数数量`：是否统计活动参与人数数量，只参与统计，不参与活动条件
- `参与人数配置`：当配置在活动中时，统计数量；当配置在礼包中时，满足参与人数条件可以领取礼包。
- `参与次数配置`：限制参与次数，常用于礼包一天只能领取一次，或活动期间只能领取一次
- `游戏登陆要求`：分为每日登陆、累计登陆、连续登陆、不登陆
    - `每日登陆`：只有当日登陆才能参与活动
    - `累计登陆`：在配置时间范围内，累计登陆天数达到指定条件，允许参与活动
    - `连续登陆`：统计用户在配置范围内最大连续登陆天数满足条件，允许参与活动
    - `不登陆`：在配置时间范围内不登陆，允许参与活动，常用于老玩家定义
- `预注册`：是否是预注册活动，仅用户预注册活动，收集玩家email 活动 phoen
- `固定玩家资格`：上传sdk 的用户id，只有用户id存在时才允许参与活动
- `等级要求`：玩家满足等级条件才能参与活动
- `充值条件`：分为总充值达成、新增充值达成
    - `总充值达成`：用户在活动期间充值达到指定金额（钻石）允许参与活动
    - `新增充值达成`：用户在活动期间每增长指定金额，可参与活动一次
- `消费条件`：分为总消费达成、新增消费达成
    - `总消费达成`：用户在活动期间消费数量（钻石）达到指定数量，允许领取奖励或参与活动
    - `新增消费达成`：用户在活动期间每增长消费达到指定数量，允许领取奖励或参与活动。
- `限制区服`：配置允许参与活动的区服id，为sdk区服id
- `竞猜条件配置`：需要配置玩家竞猜号码、系统生成中奖的号码、竞猜时间、中奖号码公布时间


#### 奖励配置说明
---

> 活动奖励，只有满足领取奖励条件，才能领取奖励。

##### 奖励类型说明

奖励分为：cdkeys奖励、消耗品奖励、邮件奖励
- `Cdkeys奖励`：需上传指定激活码文件，文件类型为`txt格式`，激活码之间通过`换行分割`，`行与行之间不能有空行`，指定激活码生效时间。
- `消耗品奖励`：获取消耗品，如`积分`、`票数`等，`数据由活动后台存储及核销`，不产生真实cdkey或者礼包奖励，仅作为其他活动产出的消耗品，如通过积分兑换礼包。
- `邮件奖励`：需配置`邮件名称`，`奖励id`，`奖励类型(可选，有则填)`，`奖励数量`。
如果活动类型配置为抽奖类型，还需要配置各个奖励的概率，概率可以是大于100的数字，后台通过计算活动下的所有奖励的总概率来随机抽奖。

##### 奖励部分条件配置说明

- `关联消耗品`：关联活动组下某后动产出的消耗品，通过消耗品兑换奖励。
- `在线时长`：在线达到指定时长允许领取奖励，目前港台接入了，其他游戏尚未接入此功能。
- `受邀数量达成`：邀请/召回活动中，邀请人邀请数量达到指定数量可以领取奖励
- `猜中个数`：竞猜条件中猜中系统公布的号码的指定个数可以领取奖励。



